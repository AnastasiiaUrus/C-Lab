#include <stdio.h>
#include <stdint.h>
#include <math.h>
#include <stdlib.h>

// функція для множення 8-бітних чисел
uint16_t multiply8bit(uint8_t x, uint8_t y) {
    return (uint16_t)x * y;
}

int main() {

    // 1) Трьохзначне число
    int n1;
    printf("Завдання 1\n");
    printf("Введіть тризначне число: ");
    scanf("%d", &n1);

    int hundreds = n1 / 100;
    int tens = (n1 / 10) % 10;
    int units = n1 % 10;

    printf("В числі %d міститься: %d сотень, %d десятків, %d одиниць\n", n1, hundreds, tens, units);
    printf("Сума цифр: %d\n", hundreds + tens + units);
    printf("Число навпаки: %d%d%d\n", units, tens, hundreds);

    // 2) Перестановки цифр 
    int n2;
    printf("\nЗавдання 2 \n");
    printf("Введіть натуральне тризначне число: ");
    scanf("%d", &n2);

    int d1 = n2 / 100; 
    int d2 = (n2 / 10) % 10;
    int d3 = n2 % 10;

    if (d1 != d2 && d1 != d3 && d2 != d3) {
        printf("Цифри різні. Усі можливі перестановки:\n");
        printf("%d%d%d, %d%d%d, %d%d%d, %d%d%d, %d%d%d, %d%d%d\n", 
                d1, d2, d3, 
                d1, d3, d2, 
                d2, d1, d3, 
                d2, d3, d1, 
                d3, d1, d2, 
                d3, d2, d1);
    }
    if (d1 == d2 || d1 == d3 || d2 == d3) {
        printf("У числі є однакові цифри.\n");
    }

    long long a3, b3, c3;
    printf("Завдання 3\n");
    printf("Введіть три числа через кому: ");
    scanf("%lld,%lld,%lld", &a3, &b3, &c3);

    // Перевірка варіанту а) |x| < 2^10 (1024)
    if (llabs(a3) < 1024 && llabs(b3) < 1024 && llabs(c3) < 1024) {
        int res_small = (int)(a3 * b3 * c3);
        printf("Варіант а): Числа < 2^10. Добуток (int): % d\n", res_small);
    }
    // Перевірка варіанту б) |x| < 2^21 (2097152)
    else if (llabs(a3) < 2097152 && llabs(b3) < 2097152 && llabs(c3) < 2097152) {
        long long res_large = a3 * b3 * c3;
        printf("Варіант б): Числа < 2^21. Добуток (long long): %lld\n", res_large);
    }
    else {
        printf("Числа перевищують задані в умові межі.\n");
    }

    // 4) Виклик функції для 8-бітних чисел
    printf("\nЗавдання 4 \n");
    unsigned int arg1, arg2;
    printf("Введіть два натуральних числа (0-255): ");
    scanf("%u %u", &arg1, &arg2);

    uint8_t num1 = (uint8_t)arg1;
    uint8_t num2 = (uint8_t)arg2;

    uint16_t res4 = multiply8bit(num1, num2);
    printf("Результат множення (uint16_t): %u\n", res4);

    // 5) Більше та менше з двох чисел
    double x5, y5;
    printf("\nЗавдання 5 \n");
    printf("Введіть два числа: ");
    scanf("%lf %lf", &x5, &y5);

    if (x5 > y5) {
        printf("Більше: %g, Менше: %g\n", x5, y5);
    }
    if (y5 > x5) {
        printf("Більше: %g, Менше: %g\n", y5, x5);
    }
    if (x5 == y5) {
        printf("Числа рівні\n");
    }

    // 6) Найбільше та найменше за модулем
    double a6, b6, c6;
    printf("\nЗавдання 6 \n");
    printf("Введіть три дійсних числа: ");
    scanf("%lf %lf %lf", &a6, &b6, &c6);

    double max_mod = a6;
    double min_mod = a6;

    if (fabs(b6) > fabs(max_mod)) max_mod = b6;
    if (fabs(c6) > fabs(max_mod)) max_mod = c6;

    if (fabs(b6) < fabs(min_mod)) min_mod = b6;
    if (fabs(c6) < fabs(min_mod)) min_mod = c6;

    printf("Найбільше за модулем: %g\n", max_mod);
    printf("Найменше за модулем: %g\n", min_mod);

    // 7а) Квадратне рівняння (ax^2 + bx + c = 0)
    double a7, b7, c7;
    printf("\nЗавдання 7а (Квадратне) \n");
    printf("Введіть коефіцієнти a, b, c: ");
    scanf("%lf %lf %lf", &a7, &b7, &c7);

    double D7 = b7 * b7 - 4 * a7 * c7;

    if (D7 > 0) {
        double x1 = (-b7 + sqrt(D7)) / (2 * a7);
        double x2 = (-b7 - sqrt(D7)) / (2 * a7);
        printf("Рівняння має 2 розв'язки: x1 = %g, x2 = %g\n", x1, x2);
    }
    if (D7 == 0) {
        printf("Рівняння має 1 розв'язок: x = %g\n", -b7 / (2 * a7));
    }
    if (D7 < 0) {
        printf("Рівняння не має дійсних розв'язків\n");
    }


    // 7б) Біквадратне рівняння (ax^4 + bx^2 + c = 0)
    printf("\nЗавдання 7б (Біквадратне) \n");
    printf("Введіть коефіцієнти a, b, c: ");
    scanf("%lf %lf %lf", &a7, &b7, &c7); 

    double D_bi = b7 * b7 - 4 * a7 * c7;

    if (D_bi < 0) {
        printf("Розв'язків немає (D < 0)\n");
    }
    if (D_bi >= 0) {
        double t1 = (-b7 + sqrt(D_bi)) / (2 * a7);
        double t2 = (-b7 - sqrt(D_bi)) / (2 * a7);
        int roots_found = 0;

        printf("Корені рівняння: ");
        if (t1 >= 0) {
            printf("%g, %g ", sqrt(t1), -sqrt(t1));
            roots_found = 1;
        }
        if (t2 >= 0 && t1 != t2) {
            printf("%g, %g ", sqrt(t2), -sqrt(t2));
            roots_found = 1;
        }
        
        if (roots_found == 0) printf("дійсних коренів немає (t < 0)");
        printf("\n");
    }

    return 0;
}